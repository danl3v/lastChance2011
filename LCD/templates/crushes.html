{% extends "base.html" %}

{% block content %}
<div id="main">

<form action="/crushes" method="post">
  <h2>My Crushes</h2>
  <p>Having trouble adding a crush? Maybe they are not on stalkernet. <a href="/contact">Send us an anonymous email</a>.</p>
  {% for name in carls2carls %} 
    <div>{{ forloop.counter }}. <input type="text" class="crush" name="carl{{ forloop.counter0 }}" value="{{ name }}"></div>
  {% endfor %}
  <input type="submit" value="Save">
</form>

</div>
<link rel="stylesheet" type="text/css" href="/stylesheets/jquery/jquery-ui-1.8.12.custom.css" />
<script type="text/javascript" src="/js/jquery-1.5.1.min.js"></script>
<script type="text/javascript" src="/js/jquery-ui-1.8.12.custom.min.js"></script>
<script>

$(document).ready(function() {
    $(".crush").autocomplete({
        source: "/autofill",
        minLength: 1,
        select: function(event, ui) {
            $(this).val(ui.item.uid);
            return false; // tells autocomplete not to update the field with the selected value
        }
    });
});

</script>
{% endblock %}
