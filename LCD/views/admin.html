{% extends "base.html" %}

{% block extrahead %}

<style>

#existing_users { font-size: .9em; width: 100%;}
</style>

{% endblock %}

{% block content %}
<div id="main">
  <div class="leftcol">
    <h2>New User</h2>
    <form action="/admin/addcarl" method="post">
      CarletonID:<input type="text" name="carletonID"><br>
      First Name:<input type="text" name="first_name"><br>
      Last Name:<input type="text" name="last_name"><br>
      <input type="submit" value="Add User">
    </form>

    <h2><a href="/admin/calculate">Calculate Crushes</a></h2>
  </div>

  <div class="rightcol">
    <h2>Batch add Users</h2>
    <form action="/admin/addusers" method="post">
      FORMAT: (first_name, last_name, user_id):<br>
      <textarea name="users" cols="40" rows="10"></textarea><br>
      <input type="submit" value="Add Users">
    </form>
  </div>

  <h2>Existing Users</h2>
  <table id="existing_users">
    <tr><th>Carleton ID</th><th>Name</th><th>Pair Code</th><th>Google ID</th><th>Actions</th></tr>
    {% for carl in carls %}
    <tr>
      <td>{{ carl.carletonID }}</td>
      <td>{{ carl.first_name }} {{ carl.last_name }}</td>
      <td>{{ carl.pair_code }}</td>
      {% if carl.googleID %}<td>{{ carl.googleID }}</td>{% else %}<td>NOT PAIRED</td>
      {% endif %}
      <td>
        <form class="buttonForm" action="/admin/unpaircarl" method="post"><input type="hidden" name="carletonID" value="{{ carl.carletonID }}"><input type="submit" value="upair"></form>
        <form class="buttonForm" action="/admin/newpaircode" method="post"><input type="hidden" name="carletonID" value="{{ carl.carletonID }}"><input type="submit" value="ncode"></form>
        <form class="buttonForm" action="/admin/deletecarl" method="post"><input type="hidden" name="carletonID" value="{{ carl.carletonID }}"><input type="submit" value="rm"></form>
        <form class="buttonForm" action="/admin/invite" method="post"><input type="hidden" name="carletonID" value="{{ carl.carletonID }}"><input type="submit" value="inv"></form>
      </td>
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
